<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/IndexDarkStyles.css">
    <link rel="stylesheet" href="/css/IndexDarkRooms.css">
    <link rel="stylesheet" href="/css/IndexDarkPopup.css">
    <link rel="icon" href="/images/pathfinder.ico" type="image/x-icon"> <!-- Favicon -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <title id="project-name"></title>
  </head>
  <body>
    <header class="main-header">
      <div class="header-section left" id="auth-module">
        <!-- Login Section -->
        <div id="login-section" style="display: block;">
          <input type="text" id="username" placeholder="Username" required />
          <input type="password" id="password" placeholder="Password" required />
          <label>
            <input type="checkbox" id="stay-connected" /> <span class="HeaderText">Mantieni la connessione</span>
          </label>
          <button onclick="login()">Login</button>
          <button onclick="openCreateRegisterPopup()">Registrati</button>
        </div>
        <!-- Logout Section -->
        <div id="logout-section" style="display: none;">
          <span class="HeaderText" id="user-display-name"></span>
          <button onclick="logout()">Logout</button>
        </div>
      </div>
      <div class="header-section center">
       <h1 id="project-title"></h1>
      </div>
      <div class="header-section right">
        <div id="avatardiv" class="avatar" onclick="handleAvatarClick()"></div>
      </div>




    </header>

    <!--     <dic class="roomstitle"><h2>Le tue stanze</h2></div>-->
    <section id="tab-panel">
      <div id="tabs">
        <button class="tab active" data-tab="gm-rooms" onclick="switchTab('gm-rooms')">Game Master</button>
        <button class="tab" data-tab="player-rooms" onclick="switchTab('player-rooms')">Player</button>
      </div>
      <div class="fancy-button-div">
        <button class="fancy-button" onclick="openCreateRoomPopup()">Apri Popup Creazione Stanza</button>
      </div>
      <div id="tab-content">
        <!-- GM Rooms Tab -->
        <div class="tab-pane active" id="gm-rooms">
          <div class="room-grid" id="gm-room-grid">
            <!-- Stanze GM aggiunte dinamicamente qui -->
          </div>
        </div>
        <!-- Player Rooms Tab -->
        <div class="tab-pane" id="player-rooms">
          <div class="room-grid" id="player-room-grid">
            <!-- Stanze Player aggiunte dinamicamente qui -->
          </div>
        </div>
      </div>
    </section>



    <div id="popup-overlay" class="popup-overlay" onclick="closePopup()">
      <div id="popup-content" class="popup-content" onclick="event.stopPropagation();">
          <!-- Contenuto del popup verrà gestito dinamicamente -->
          <div id="popup-header">
              <h2 id="popup-title">Titolo del Popup</h2>
              <button id="popup-close" onclick="closePopup()">✖</button>
          </div>
          <div id="popup-body">
              <!-- Corpo dinamico del popup -->
          </div>
      </div>
  </div>



    <footer>
      <p>© <span id="current-year"></span> - <span id="footer-project-name"></span>. Tutti i diritti riservati.</p>
    </footer>

    <!-- Load config.js first to set global variables -->
    <script src="/js/config.js"></script>

    <!-- Set dynamic project details -->
    <script>
      document.getElementById('project-title').textContent = CONFIG.PROJECT_NAME;
      document.getElementById('footer-project-name').textContent = CONFIG.PROJECT_NAME;
      document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>

    <!-- Include scripts -->
    <script src="/js/index.js" defer></script>
    <script src="/js/indexroomutils.js" defer></script>
    <script src="/js/IndexPopupUtils.js" defer></script>
    <script src="/js/indexuserutils.js" defer></script>
  </body>
</html>